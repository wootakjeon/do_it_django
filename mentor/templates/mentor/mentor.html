{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>토닥토닥</title>
    <link href="{% static 'image/favicon-96x96.png' %}" sizes="96x96" rel="shortcut icon" type="image/png">
    <!-- Bootstrap core CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="{% static 'css/mentor_main.css' %}">
    <link rel="stylesheet" href="{% static 'css/mentor.css' %}">

</head>

<!-- header -->
{% include "user/header.html" %}

<body class="pg___instructors">
    
<!-- main -->
<main class="container mt-5" id="main">

    <div id="root">
        <section class="instructor_list_section">
            <div class="content_palette" id="content_palette">
                <div class="header_navigation"></div>
                <div class="content_body">

                    <!-- Right panel / Profile list -->

                    <div class="panel_right">
                        <div class="view">
                            <div class="columns is-multiline is-mobile">
                                <!-- Mentor -->
                                {% for mentor in mentorList %}
                                <div class="column is-3-desktop is-4-tablet is-6-mobile">
                                    <div class="mentor_card">
                                        <div class="card-body">
                                            <div class="mentor-image">                                                                                                                                                    
                                                <figure class="image is-1by1">
                                                    <img class="is-rounded"
                                                         src="{{ mentor.mentor_img.url }}"
                                                         alt="{{mentor.mentor_img.url}}">
                                                </figure>
                                            </div>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
                                            <div class="mentor-info">
                                                <h2 class="mentor-title"> {{mentor.mento_title}} </h2>                                                                                            
                                            </div>                                                                                    
                                        </div>
                                        <div class="mentor-info">
                                            <p class="mentor-username">{{mentor.mento_type}}</p>
                                        </div>
                                        
                                        <div class="card-bottom">                               
                                            <div class="buttons">
                                                <!-- Modal --> 
                                                <div class="modal">
                                                    <div class="modal_body" id="modal-body">
                                                        <div class="modal_mentor_card">

                                                            <div class="modal-card-body">
                                                                <div class="modal-mentor-image">                                                                                                                                                    
                                                                    <figure class="modal-image modla-is-1by1">
                                                                        <img class="modal-is-rounded"
                                                                            src="{{ mentor.mentor_img.url }}"
                                                                            alt="{{mentor.mentor_img.url}}">
                                                                    </figure>
                                                                </div>
                                                                <div class="mentor-info">
                                                                    <h2 class="modal-mentor-title"> {{mentor.mento_title}} </h2>                                                                                            
                                                                </div>                                                                           
                                                            </div>
                                                            <div class="modal-department">
                                                                나이
                                                            </div>
                                                            <div class="modal-department">
                                                                학교
                                                            </div>
                                                            <div class="modal-department">
                                                                학과
                                                            </div>
                                                            <div class="modal-department">
                                                                재학여부
                                                            </div>
                                                            <div class="modal-selftitle">
                                                                자기소개
                                                            </div>
                                                            <div class="modal-selfcontent">
                                                                안녕하세요 잘 부탁드립니다
                                                                9월 개강 2학기 시작                                                                                                                                                                                                                                               
                                                            </div>
                                                            <div class="modal-chat-btn-display">
                                                            <a href="{% url 'mentor_chatrooms' %}"> <button class="modal-chat-btn">채팅신청</button></a>                                                          
                                                            </div>                                                           
                                                        </div>
                                                    </div>
                                                </div>                                                                                                 
                                                <button class="button e-mentoring btn-open-popup">상세정보</button>
                                            </div>
                                        </div>                                       
                                    </div>
                                </div>

                                {% endfor %}

                                
                                        <!--                                        <li>-->
                                        <!--                                            <button class="page e-pagination  active" data-page="1"-->
                                        <!--                                                    aria-label="1페이지로 이동">1-->
                                        <!--                                            </button>-->
                                        <!--                                        </li>-->
                                        <!--                                        <li>-->
                                        <!--                                            <button class="page e-pagination  " data-page="2" aria-label="2페이지로 이동">2-->
                                        <!--                                            </button>-->
                                        <!--                                        </li>-->
                                        <!--                                        <li>-->
                                        <!--                                            <button class="page e-pagination  " data-page="3" aria-label="3페이지로 이동">3-->
                                        <!--                                            </button>-->
                                        <!--                                        </li>-->
                                        <!--                                        <li>-->
                                        <!--                                            <button class="page e-pagination  " data-page="4" aria-label="4페이지로 이동">4-->
                                        <!--                                            </button>-->
                                        <!--                                        </li>-->
                                        <!--                                        <li>-->
                                        <!--                                            <button class="page e-pagination  " data-page="5" aria-label="5페이지로 이동">5-->
                                        <!--                                            </button>-->
                                        <!--                                        </li>-->
                                        <!--                                        <li>-->
                                        <!--                                            <button class="page e-pagination  next" data-page="2" aria-label="2페이지로 이동">-->
                                        <!--                                                다음-->
                                        <!--                                            </button>-->
                                        <!--                                        </li>-->
                                    </ul>
                                </nav>
                            </div>
                        </div>
                    </div>
                </div>
</main>

</body>
<!-- Javascript -->
<script language="javascript">
      function showPopup() { window.open("{% url 'mentor_content' %}", "a", "width=436, height=600, left=550, top=50"); }
</script>
<script>
    const body = document.querySelector('body');
    const modal = document.querySelectorAll('.modal');
    const btnOpenPopup = document.querySelectorAll('.btn-open-popup');
    
  
    btnOpenPopup.forEach((item, idx) =>{

        item.addEventListener('click', (e)=>{
        
        console.log(e.target.getAttribute('id'));
        //document.querySelector('.modal .m'+e.target.getAttribute('id')).classList.toggle('show');
        e.target.previousElementSibling.classList.toggle('show');    

        if (e.target.previousElementSibling.classList.contains('show')) {
          body.style.overflow = 'hidden';
        }
        })
        
        item.addEventListener('click', (e) => {
            if (e.target === modal) {
              modal.classList.toggle('show');
    
              if (!modal.classList.contains('show')) {
                body.style.overflow = 'auto';
              }
            }
          });

    });

    //Hide modal
    window.addEventListener('click', (e) => {
        if (e.target.getAttribute('class') == 'modal show') 
            e.target.classList.remove('show') 
    });

    {% comment %} btnOpenPopup.forEach((item, idx) =>{

        item.addEventListener('click', (e)=>{
        
        console.log(modal[idx]);
        modal.classList.toggle('show');
    
        if (modal.classList.contains('show')) {
          body.style.overflow = 'hidden';
        }
        })
        
        item.addEventListener('click', (e) => {
            if (e.target === modal) {
              modal.classList.toggle('show');
    
              if (!modal.classList.contains('show')) {
                body.style.overflow = 'auto';
              }
            }
          });

        }); {% endcomment %}

       
</script>
<script src="https://cdn.inflearn.com/assets/js/jquery-1.12.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</html>